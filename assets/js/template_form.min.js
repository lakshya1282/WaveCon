window.addEventListener("message", function (event) {
  "hsFormCallback" === event.data.type &&
    "onFormReady" === event.data.eventName &&
    initCustomForm();
});
const initCustomForm = function () {
  addActiveClass(".hs-form-radio-display", "radio"),
    addActiveClass(".hs-form-checkbox-display", "checkbox"),
    addActiveClass(".hs-form-booleancheckbox-display", "checkbox"),
    addNodesObserver();
};
let addActiveClass = function (elementClass, type) {
    document.querySelectorAll(elementClass).forEach(function (element, index) {
      addChangeEvent(element, elementClass, type);
    });
  },
  addChangeEvent = function (element, elementClass, type) {
    let selector = element.querySelector('input[type="' + type + '"]');
    selector &&
      selector.addEventListener("change", function (e) {
        e.stopImmediatePropagation();
        let currentElements = e.target
          .closest(".hs-form-field")
          .querySelectorAll(elementClass);
        "radio" === type
          ? (resetItems(currentElements),
            e.target.parentElement.classList.toggle("checked"))
          : (e.target.classList.toggle("checked"),
            e.target.parentElement.classList.toggle("checked"));
      });
  },
  addNodesObserver = function () {
    let targetNodes = document.querySelectorAll("form"),
      observer = new MutationObserver(function (mutations) {
        for (let i = 0; i < mutations.length; i++) {
          let mutation = mutations[i];
          for (let j = 0; j < mutation.addedNodes.length; j++) {
            let node = mutation.addedNodes[j];
            if (node.classList && node.classList.contains("hs-form-field")) {
              let radioElements = node.querySelectorAll(
                  ".hs-form-radio-display"
                ),
                checkboxElements = node.querySelectorAll(
                  ".hs-form-checkbox-display"
                );
              radioElements.forEach(function (element, index) {
                addChangeEvent(element, ".hs-form-radio-display", "radio");
              }),
                checkboxElements.forEach(function (element, index) {
                  addChangeEvent(
                    element,
                    ".hs-form-checkbox-display",
                    "checkbox"
                  );
                });
            }
          }
        }
      });
    for (let i = 0; i < targetNodes.length; i++)
      observer.observe(targetNodes[i], { childList: !0, subtree: !0 });
  };
const resetItems = function (elements) {
    for (var i = 0; i < elements.length; i++)
      elements[i].classList.remove("checked");
  },
  getClosest = function (elem, selector) {
    for (; elem && elem !== document; elem = elem.parentNode)
      if (elem.matches(selector)) return elem;
    return null;
  };
//# sourceURL=https://cdn2.hubspot.net/hub/5065855/hub_generated/template_assets/26323178481/1665637730633/bootstrap/web/assets/scripts/form.js
